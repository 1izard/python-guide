# Chapter1 組込みデータ型

たくさん表が出てきますが，使っていれば慣れてくるので一度に覚えようとしなくて大丈夫です．  
多くの計算は日常生活で行っているような計算と同じようにできるので，わからなかったら参照する感じでいいと思います．  
そのかわりに，Python特有の計算だったり忘れているとハマるようなものを覚えるようにしましょう．  

# 組込みデータ型 (Built-in Data Type)

プログラムとは何かしらの計算の手続きを記述したものです．  
計算は何かしらの値どうしを足したり掛け合わせたりすることですが，Pythonでは計算で使用する最も基本的な値(のタイプ=型)として以下のようなデータ型が用意されています．  

| 型                        | 説明                                                                 | 例                                            |
| ------------------------- | -------------------------------------------------------------------- | --------------------------------------------- |
| bool(ブール)型(論理型)    | True / False のどちらかの値をとる                                    | True, False                                   |
| int(イント)型             | 整数値(整数=integer(インテジャー))をとる．桁数に制限はない           | 0, -1, 1000000000                             |
| float(フロート)型         | 小数点以下の部分を持つ数値や指数表現，どんな数よりも大きい(小さい)値 | 3.14, 10e9(=10の9乗=1_000_000_000), inf，-inf |
| complex(コンプレックス)型 | 複素数                                                               | 3.0+4.0j                                      |
| str(ストリング)型         | 文字列(=string)                                                      | "Python", "0123"                              |
| None型                    | 値がないことを表す                                                   | None                                          |

<br>

# 変数 (Variables)

プログラム中で値を操作するには，後から何回でも操作できるように値を**変数**に保存しておくと便利です．  
たとえば，以下では変数aにint型の値7を**代入**(assign)しています．  

なお，プログラム中では，行中で`#`より後ろ，あるいは`'''`と`'''`で囲まれた部分はコメントになります．  

```python
a = 1 # int
```

同様に，ほかの型の値も変数に代入することができます．  

```python
b = True        # bool
c = 3.14        # float
d = 10e9        # float
e = 3.0 + 4.0j  # complex
f = "Python"    # string
```

変数を変数に代入することもできます．  

```python
a = 1
b = a   # 1
c = b   # 1
```

数学の `=` とは意味が全く異なることに注意しましょう．  

変数名としては以下が使用できます．  

- 小文字の英字(a-z)
- 大文字の英字(A-Z)
  - 定数の場合に使用する
- 数字(0-9)
  - 数字が先頭になることはできない
- アンダースコア(`_`)

例
- cnt, idx
- last_idx, problem_list

よく使用される変数名 (使っていたりコードを読んでいたりすると自然と覚えるので流し読みでOKです)
- 合計値
  - s (sum)
  - t, total
- 一時的な値
  - t, tmp, temp (temporary=一時的な)
- カウント
  - cnt, count
- インデックス
  - i, j, k
  - idx (index)
- 結果
  - res (result)
  - ret (return)
  - ans (answer)
- リスト，タプル(Tuple)
  - problems (要素の複数形), problem_list, problem_tpl
- 辞書(Dictionary)
  - d, dict, problem_dict
- 文字，文字列
  - s (string)
- 数
  - n, x, y
  - num
  - no (No.)

例外として，Pythonの言語仕様で使用されている(予約語という)以下は変数名として使用することはできません．  

|        |          |         |          |        |
| :----: | :------: | :-----: | :------: | :----: |
| False  |  class   | finally |    is    | return |
|  None  | continue |   for   |  lambda  |  try   |
|  True  |   def    |  from   | nonlocal | while  |
|  and   |   del    | global  |   not    |  with  |
|   as   |   elif   |   if    |    or    | yield  |
| assert |   else   | import  |   pass   |        |
| break  |  except  |   in    |  raise   |        |

また，組込み関数と被る変数名も使用できません(正確には，組込み関数と同じ名前の変数名を使用すると組込み関数が使えなくなって不便なので使いたくない)．  
`sum`とか`id`とか`min`とか`max`とかよく使いたくなりますが別の変数名にしましょう．  

公式docの組込み関数のページ( https://docs.python.org/ja/3/library/functions.html#built-in-funcs )

|             |           | 組込み関数 |            |              |
| :---------: | :-------: | :--------: | :--------: | :----------: |
|     abs     |  delattr  |    hash    | memoryview |     set      |
|     all     |   dict    |    help    |    min     |   setattr    |
|     any     |    dir    |    hex     |    next    |    slice     |
|    ascii    |  divmod   |     id     |   object   |    sorted    |
|     bin     | enumerate |   input    |    oct     | staticmethod |
|    bool     |   eval    |    int     |    open    |     str      |
| breakpoint  |   exec    | isinstance |    ord     |     sum      |
|  bytearray  |  filter   | issubclass |    pow     |    super     |
|    bytes    |   float   |    iter    |   print    |    tuple     |
|  callable   |  format   |    len     |  property  |     type     |
|     chr     | frozenset |    list    |   range    |     vars     |
| classmethod |  getattr  |   locals   |    repr    |     zip      |
|   compile   |  globals  |    map     |  reversed  | `__import__` |
|   complex   |  hasattr  |    max     |   round    |              |


<br>

# 数値

数値計算のため以下のような演算子が定義されています．  
`/`と`//`の違いは重要です．  
`/`では小数点以下まで計算されますが，`//`では小数点以下は切り捨てられます．  
`%`はあまり馴染みがないかもしれませんが，剰余演算(mod)といって余りを計算するときに使う演算子です．  
たとえば3を2で割ったときの余りは1ですが，これを "3の2を法とする剰余" と言って "3 mod 2 = 1" と書いたりします．  
Pythonで書くと `3 % 2` で計算結果は1です．  
後々見ることになりますが，プログラミングでは余りはよく使われるので，`%`は覚えようにしましょう．  
累乗は他の言語だと`pow()`や`power()`を使うことになると思いますが，Pythonでは`**`で直感的にかけるので便利です．  

| 演算子 |           説明           |   例   | 結果  |
| :----: | :----------------------: | :----: | :---: |
|   +    |           加算           | 1 + 2  |   3   |
|   -    |           減算           | 2 - 8  |  -6   |
|   *    |           乗算           | 9 * 8  |  72   |
|   /    |  除算(小数点以下も計算)  | 5 / 2  |  2.5  |
|   //   | 除算(小数点以下切り捨て) | 5 // 2 |   2   |
|   %    |           剰余           | 7 % 2  |   1   |
|   **   |           累乗           | 2 ** 3 |   8   |

<br>

以下の演算子は，計算すると同時にその結果を変数に代入します(Augmented Assignment).


| 演算子 |               説明               |         例         | 結果  |
| :----: | :------------------------------: | :----------------: | :---: |
|   +=   |          加算結果を代入          | a = 1 <br> a += 2  |   3   |
|   -=   |          減算結果を代入          | a = 2 <br> a -= 8  |  -6   |
|   *=   |          乗算結果を代入          | a = 9 <br> a *= 8  |  72   |
|   /=   | 除算(小数点以下も計算)結果を代入 | a = 5 <br> a /= 2  |  2.5  |
|  //=   |  除算(小数点以下切り捨て)を代入  | a = 5 <br> a //= 2 |   2   |
|   %=   |       剰余計算の結果を代入       | a = 7 <br> a %= 2  |   1   |
|  **=   |          累乗結果を代入          | a = 2 <br> a **= 3 |   8   |


以下に数値計算の例を示します．  
ゼロ割はエラーになるので注意しましょう．  

```python
a = 1
b = 2
a = a + b   # 3
b = a + 4   # 7
c = (a * b) // 2  # 10
d = a * (b // 2)  # 9

e = 2
e **= 2 * 2       # 16 = 2^(2 * 2)

f = 2.0 ** 0.5    # 1.4142135623730951 = sqrt(2.0) (ルート2)

g = 1
h = 4
i = 5 / (g - h + 3) # ZeroDivisionError: division by zero
```

ちなみにPythonにはインクリメント・デクリメント用の演算子はありません．  

```python
a = 1
a++   # SyntaxError: invalid syntax
```

```python
a = 1
a += 1    # OK / a = 2
```

<br>

(Extra)  
整数にはビット演算子も定義されています．  
ビット用の型に変換せず，int型の変数のまま演算が行えます．  

| ビット演算子<br>(Bitwise Operator) |                     説明                     |           例           |   結果    |
| :--------------------------------: | :------------------------------------------: | :--------------------: | :-------: |
|  op1   <<   op2 (左シフト演算子)   |     左にop2bitシフト(=op1 * (2 ** op2))      |     3 (0011) << 2      | 12 (1100) |
|    op1  >> op2(右シフト演算子)     |     右にop2bitシフト(=op1 // (2 ** op2))     |     9 >> 2  (1001)     | 2 (0010)  |
|              &  (AND)              |                  itAND演算                   |  7 (0111) & 11 (1011)  | 3 (0011)  |
|            `|`    (OR)             |               ビットでのOR演算               | `7 (0111) | 11 (1011)` | 15 (1111) |
|     ~(チルダと読む)      (NOT)     |                   2の補数                    |      ~7   (0111)       | 8 (1000)  |
|               ^(XOR)               | ビットでのXOR演算子(異なる値どうしであれば1) |  7 (0111) ^ 11 (1011)  | 12 (0011) |


| (代入)演算子 |                     説明                     |                 例                  |   結果    |
| :----------: | :------------------------------------------: | :---------------------------------: | :-------: |
|  <<=   op2   |     左にop2bitシフトした値を計算して代入     |         a = 3 <br> a <<= 2          |    12     |
|   >>= op2    |     右にop2bitシフトした値を計算して代入     |         a = 9 <br> a >>= 2          |     2     |
|  &=  (AND)   |        ビットでのAND演算の結果を代入         |  a = 7 (0111) <br> a &= 11 (1011)   | 3 (0011)  |
| `|=`    (OR) |         ビットでのOR演算の結果を代入         | `a = 7 (0111)` <br> `a |= 11 (1011` | 15 (1111) |
|   ^= (XOR)   | ビットでのXOR演算子(異なる値どうしであれば1) |  a = 7 (0111) <br> a ^= 11 (1011)   | 12 (0011) |


<br>


# ブール値

|   演算子    |              説明              |    例    | 結果  |
| :---------: | :----------------------------: | :------: | :---: |
|   not op1   |              否定              | not True | False |
| op1 and op2 | AND演算(op1かつop2ならばTrue)  |          |       |
| op1 or op2  | OR演算(op1またはop2ならばTrue) |          |       |

真理値表(各入力の組合せに対する出力の表)は以下のようになります．  

## and
| op1 \ op2 | True  | False |
| :-------: | :---: | :---: |
|   True    | True  | False |
|   False   | False | False |

## or
| op1 \ op2 | True  | False |
| :-------: | :---: | :---: |
|   True    | True  | True  |
|   False   | True  | False |

以下にブール演算の例を示します．  

`==` は等価演算子といい，比較演算子の1つになります．  
`a == b` としたとき，aとbが等しいならばTrue，そうでないならFalseを返します．  
比較演算子については基本構文の章で詳しく取り上げます．  

```python
a = True and False  # False
b = True or False   # True
c = (a or True) and (b and False) # False

p = True
q = False
r = (not (p or q)) == ((not p) and (not q)) # True (ド・モルガンの法則)
```

<br>

# 文字列

|   演算子    |               説明               |         例         |      結果      |
| :---------: | :------------------------------: | :----------------: | :------------: |
| str1 + str2 | 文字列str1と文字列str2を連結する | "Good" + "Morning" | "GoodMorning"  |
| str1 * int1 |    文字列str1をint1回繰り返す    |     "Bye" * 4      | "ByeByeByeBye" |

| 代入演算子 |             説明             |               例               |     結果      |
| :--------: | :--------------------------: | :----------------------------: | :-----------: |
|  += str2   | str2を連結した結果を代入する | s = "Good" <br> s += "Morning" | "GoodMorning" |

以下に文字列の演算例を示します．`\n`は改行を，`\t`はタブでの空白を表します．  

```python
s0 = "おっけーグーグル\n"
s1 = "今日の天気"
t = s0 + s1
'''
おっけーグーグル
今日の天気
'''

u = "I'want to go" + "\t" + "home"   # I'want to go home

v = "Poison"
v += "...Poison" + "?!" * 10  # Poison...Poison?!?!?!?!?!?!?!?!?!?!
```

数値やブール値をいっしょに連結できないことに注意してください．  
この場合，TypeErrorが発生します．  

```python
s = "1 + 1 = " + 2            # TypeError
s = "1 + 1 == 2 is " + True   # TypeError
```

数値やブール値を連結したい場合は，一旦文字列に変換することで連結できます．  
変換については後述します．  

```python
s = "1 + 1 = " + str(2)           # 1 + 1 = 2
s = "1 + 1 == 2 is " + str(True)  # 1 + 1 == 2 is True
```

<br>

# None

None型は `None`(=値がない)という値のみを取りうる型です．  
ほかの言語でいう `null` のようなものになります．  

```python
a = None
```

`None` は `None`以外のどの値とも等しくありません．  
これを利用して，例えば変数のデフォルトの値をNoneにしておき，Noneでなくなった場合に特別な処理をするといったときにも使われます．  

# 変換

数値を文字列に，あるいは文字列を数値に，といった変換は，組込み(Built-in)関数(Pythonの言語仕様に予め実装されている関数)であるint(), float(), complex(), str(), bool()で行えます．  

| 変数nをx型に変換したい | 組込み関数 |
| :--------------------: | :--------: |
|         int型          |   int(n)   |
|        float型         |  float(n)  |
|       complex型        | complex(n) |
|         str型          |   str(n)   |
|         bool型         |  bool(n)   |

以下に変換例を示します．  

```python
i = 2         # int
f = float(i)  # 2.0 (float)

f += 1.5    # 3.5
i = int(f)  # 3 (int)

s = str(i)       # "3" (str)
s += "0" * 5     # "300000" (str)
i = int(s)       # 300000  (int)
```

bool型に変換する場合，Falseとなるのは数値が0，文字列が空文字`""`．あるいは値が`None`である場合のみです，注意しましょう．  

```python
b = bool(3)           # True
b = bool(3.5)         # True
b = bool(-3)          # True
b = bool(0.0 - 4.0j)  # True
b = bool("3")         # True
b = bool("-3")        # True
b = bool("0")         # True
b = bool("False")     # True
b = bool(" ")         # True
b = bool("\n")        # True
b = bool("\t")        # True

b = bool(0)           # False
b = bool(0.0)         # False
b = bool(0.0 + 0.0j)  # False
b = bool("")          # False
b = bool(None)        # False
```

文字列から数値に変換できるのは，文字列が数値を表している場合のみになります．  
変換できない文字列を数値に変換しようとした場合はValueErrorが発生します．  

```python
i = int("one")   # ValueError
i = int("いち")   # ValueError
i = int("")      # ValueError
```

<br>

# 練習問題

解答例は `chapter1/ans_chapter1.ipynb` にあります．  

## 準備
プログラムの実行結果を標準出力(Standard Output)(コンソールに出力すること)するには，組込み関数print()を使います．  
例えば，以下のような感じです．  
各例は1つのファイルとして見てください．  
練習問題の計算をコーディングして実行し，計算結果をコンソールに出力するようにしましょう．  

例1.

```python
# ex1.py
# 半径r=2の円の面積
PI = 3.14159265359
r = 2
s = r * r * PI
print(s)
```

```
// コンソール (現在ex1.pyのあるディレクトリにいる)
$ python ex1.py (あるいはpython3 ex1.pyを入力してエンターキー)
12.56637061436  (実行結果)
```

例2.

```python
# ex2.py
# サイコロの出る目の期待値
s = 1 + 2 + 3 + 4 + 5 + 6
t = 6
ans = s / t
print("ans =", s / t)
```

```
// コンソール (現在ex2.pyのあるディレクトリにいる)
$ python ex2.py (あるいはpython3 ex2.pyを入力してエンターキー)
ans = 3.5             (実行結果)
```

複数(何個でもOK)の値を与えると " "(空白)区切りで出力します．

例3.

```python
# ex3.py
# コインを10回投げて全て表である確率あるいは全て裏である確率
p = (1 / 2) ** 10
print(p)
```

```
// コンソール (現在ex3.pyのあるディレクトリにいる)
$ python ex3.py (あるいはpython3 ex3.pyを入力してエンターキー)
0.0009765625    (実行結果)
```

<br>


## Q1

a = 7 を b = 3 で割ったときの余りを求めてみましょう．  
以下の変数をファイルの先頭にコピペして使ってください．  

```python
a = 7
b = 3
```

## Q2

a = -7 を b = 3 で割ったときの余りはいくつになるでしょうか．

```python
a = -7
b = 3
```


## Q3

a = 1'234'567'890 の b = 1'234'567'890'123'456'789倍を求めてみましょう．  
Pythonではint型は`_`で桁を区切って見やすくできます．  

```python
a = 1_234_567_890
b = 1_234_567_890_123_456_789
```

## Q4

2の10乗はいくつになるでしょうか．  

```python
a = 2
```

## Q5

3時間は何秒でしょうか．  

```python
a = 3
```

## Q6

底辺の長さ b = 10，高さ h = 5 の三角形の面積を求めてみましょう．  

```python
b = 10
h = 5
```


## Q7

以下で与えられる変数a, b, cを，1つの文字列として連結してコンソールに出力してみましょう．  

```python
a = 2
b = "は素数?: "
c = True
```

## Q8

所持金 a = 10000円 でショップに来ています．  
キズぐすりが1個 b = 33円 で売られています，最大何個買えるでしょうか．  
買える個数は整数であることに注意しましょう．  

```python
a = 10000
b = 33
```

## Q9

ふしぎなアメが**税抜**価格 a = 28円 で売られています．  
3個買うのに支払う金額はいくらになるでしょうか．  
消費税率は C = 0.08 とします．  
支払う金額は整数であることに注意しましょう．  

```python
a = 28
n = 3
C = 0.08
```

## Q10

今年のX月は金曜日から始まります．  
22日は第何週目にあるでしょうか．  
カレンダーの曜日は日曜日を始めとし，週は第1週目を始め(第0週が始めではない)としてください．  

```python
n = 22
```

<details>
  <summary>ヒント</summary>
  <p>22にオフセットを設けて7で割ります</p>
</details>

<br>

(Extra)

## Q11

以下の変数と左シフト演算`<<`を使って，2の10乗を求めてください．  

```python
a = 1
```


<hr>

# 練習問題解答例

## Q1

剰余の計算は `%` を使います．  

```python
a = 7
b = 3

ans = a % b
print(ans)  # 1
```


## Q2

```python
a = -7
b = 3

print(a % b)  # 2
```

Pythonでは，負数を正の数で割ったときの余りはプラスになります．  
(-7 % 3 = -1 となる言語もあります)


## Q3

```python
a = 1_234_567_890
b = 1_234_567_890_123_456_789

print(a * b)
# 1524157875171467887501905210
```

Pythonではこのような大きな値も計算できます．  


## Q4

```python
a = 2

print(a ** 10)  # 1024
```

2の累乗の値はよく使われるので覚えておくと便利です．  

|                           |      値       |
| :-----------------------: | :-----------: |
|          2 ** 0           |       1       |
|          2 ** 1           |       2       |
|          2 ** 2           |       4       |
|          2 ** 3           |       8       |
|          2 ** 4           |      16       |
|          2 ** 5           |      32       |
|          2 ** 6           |      64       |
|          2 ** 7           |      128      |
|  2 ** 8  = 8bit = 1 Byte  |      256      |
|          2 ** 9           |      512      |
|          2 ** 10          |     1_024     |
| 2 ** 16 = 16 bit = 2 Byte |    65_536     |
| 2 ** 32 = 32 bit = 4 Byte | 4_294_967_296 |


## Q5

1時間を`分`に直すと60分，60分を`秒`に直すと `(60 * 60)秒`なので，3時間を`分`に直すと `3 * (60 * 60)秒`です．


```python
a = 3
print(3 * 60 * 60)  # 10800
```


## Q6

```python
b = 10
h = 5

print(b * h / 2)  # 25.0
```

## Q7

```python
a = 2
b = "は素数?: "
c = True

s = str(a) + b + str(c)
print(s)  # 2は素数?: True
```


## Q8

`10000 / 33 = 303.03...`ですが，最大の個数を求めているので小数点以下を切り捨てます．  
そのため `//` を使います．  

```python
a = 10000
b = 33

print(a // b)   # 303
```


## Q9

消費税率が `C = 0.08` なので，税抜価格を `(1.0 + C)`倍したものが税込価格になります．  
最後に，小数点以下を切り捨てるため `int()` を使います．  

```python
a = 28
n = 3
C = 0.08

ans = int(a * n * (1.0 + C))
print(ans)    # 90
```

## Q10

カレンダーのマス目を0から数えると，以下のようになります．  

|  日   |  月   |  火   |  水   |  木   |  金   |  土   |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: |
|   0   |   1   |   2   |   3   |   4   |   5   |   6   |
|   7   |   8   |   9   |  10   |  11   |  12   |  13   |
|  14   |  15   |  16   |  17   |  18   |  19   |  20   |
|  21   |  22   |  23   |  24   |  25   |  26   |  27   |
|  28   |  29   |  30   |  31   |  32   |  33   |  34   |
|  35   |  36   |  37   |  38   |  39   |  40   |  41   |

0から6までは第1週目，7から13までは第2週目，...です．
したがって，n番目のマス目は第`(n // 7 + 1)`週目であることがわかります．  

一方，問題文よりX月の1日は金曜日なので，`マス目の番号n = 日付 + 4` です．  

以上より，22日は第`((22 + 4) // 7 + 1) = 4`週目であることがわかります．  

```python
n = 22

ans = ((n + 4) // 7 + 1)
print(ans)
```

(Extra)

## Q11

1を1bit左にシフトすると2，2を1bit左にシフトすると4，4を1bit左にシフトすると8，...，というように，1をxbitだけ左シフトしたものは2のx乗になります．  

| 10進数 | 2進数 |
| :----: | :---: |
|   1    | 0001  |
|   2    | 0010  |
|   4    | 0100  |
|   8    | 1000  |

したがって，1を10bitだけ左シフトすると2の10乗が求まります．  
`+` や `*` といった算術演算よりシフト演算の方が高速なので，こちらの方が速く2の累乗を計算できます．  
`bit全探索` を行う際に使ったりします．  

```python
a = 1

ans = 1 << 10
print(ans)  # 1024
```